<!DOCTYPE html>
<html>
    <head>
        <!-- Specifies the character encoding for the HTML document -->
        <meta charset="UTF-8">
        <!-- Define a description of your web page -->
        <meta name="description" content="Web Application for Mental Health Care">
         <!-- Define keywords for search engines -->
        <meta name="keywords" content="Web Application, Project, Mental Health, Health care">
        <!-- Define the author of a page -->
        <meta name="author" content="Afrija K">
        <!-- Setting the viewport to make your website look good on all devices -->
        <meta name="viewport"  content="width=device-width, intial-scale=1.0">
        <!-- Refresh document every 30 seconds -->
        <meta http-equiv="refresh" content="30">
        <!-- Define a title in the browser toolbar -->
        <title>Web Application for Mental Health Care</title>
        <!-- Bootstrap for CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
        <!-- JS Bundle with Pooper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
        <!-- Link CSS Page to HTML -->
        <link rel="stylesheet" href="06_CNav.css">
        <link rel="stylesheet" href="09_Chat.css">
        <script src="10_Chat.js"></script>
        <!-- Adding icon logo on the title bar -->
        <link rel="icon" href="C:\Users\LENOVO\Documents\KITS\Mini Project\Images\Logo.png" type="image/x-icon">
        <!-- CDN link for icons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.1.2/axios.min.js" integrity="sha512-bHeT+z+n8rh9CKrSrbyfbINxu7gsBmSHlDCb3gUF1BjmjDzKhoKspyB71k0CIRBSjE5IVQiMMVBgCWjF60qsvA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
        
 
    </head>
    <body onload="start()">
        <header>
            <label>
                <input type="checkbox">
                <div class="toggle">
                    <span class="top_line common"></span>
                    <span class="middle_line common"></span>
                    <span class="bottom_line common"></span>
                </div>
                <div class="slide">
                    <h1>Raabta</h1>
                    <ul>
                        <li>
                            <a href="#"><i class="fas fa-home"></i> Home</a>
                        </li>
                        <li>
                            <a href="#"><i class="fas fa-globe"></i> Post</a>
                        </li>
                        <li >
                            <a href="#"><i class="fas fa-heart"></i> For You Page</a>
                        </li>
                        <li>
                            <a href="#"><i class="fas fa-trophy"></i> Challenges and Rewards</a>
                        </li>
                        <li>
                            <a href="#"><i class="fas fa-comments"></i> Chats</a>
                        </li>
                        <li>
                            <a href="#"><i class="fas fa-paper-plane"></i> Connect with Experts</a>
                        </li>
                        <li>
                            <a href="#"><i class="fas fa-book"></i> Learn More</a>
                        </li>
                        <li>
                            <a href="#"><i class="fas fa-address-card"></i> About Us</a>
                        </li>
                        <li>
                            <a href="#"><i class="fas fa-id-badge"></i> Login/Sign Up</a>
                        </li>
                    </ul>
                </div>
            </label>
            <nav class="navigation">
                <a class="Logo" href="01_Home.html"><img src="C:\Users\LENOVO\Documents\KITS\Mini Project\Images\Logo.png" width="50px" height="50px"</a>
                <a href="01_Home.html"><h1 class="Raabta">Raabta</h1></a>
            </nav>
        </header>
        <h2>Chats</h2>
        <div id="main">
            <h3>ChatBot</h3>
        <div id="msg_area">
                <div id="robot">
                    <div id="bot"></div>
                    <h4>Raabta Chatbot</h4>
                </div>
            </div>
            <div id="input">
                <input type="text" placeholder="New Message" id="text">
                <button id="send">Send <i class="fa fa-paper-plane"></i></button>
            </div>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.1.2/axios.min.js" integrity="sha512-bHeT+z+n8rh9CKrSrbyfbINxu7gsBmSHlDCb3gUF1BjmjDzKhoKspyB71k0CIRBSjE5IVQiMMVBgCWjF60qsvA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


    </body>
    <script type="text/javascript">
    function start() {
    let res_msg = document.createElement("div");
    res_msg.innerHTML="Hello Myself Aco, How can I help you?" ;
    res_msg.setAttribute("class","left");
 
    document.getElementById('msg').appendChild(res_elm);
}
 
 
document.getElementById('send').addEventListener("click", async (e) => {
    e.preventDefault();
 
    var req = document.getElementById('msg_send').value ;
 
    if (req == undefined || req== "") {
 
    }
    else{
     
        var res = "";
        await axios.get(`https://api.monkedev.com/fun/chat?msg=${req}`).then(data => {
            res = JSON.stringify(data.data.response)
        })
           
        let msg_req = document.createElement('div');
        let msg_res = document.createElement('div');
 
        let Con1 = document.createElement('div');
        let Con2 = document.createElement('div');
 
        Con1.setAttribute("class","msgCon1");
        Con2.setAttribute("class","msgCon2");
 
        msg_req.innerHTML = req ;
        msg_res.innerHTML = res ;
 
 
        msg.setAttribute("class","right");
        msg_res.setAttribute("class","left");
 
        let message = document.getElementById('msg_area');
 
         
        message.appendChild(Con1);
        message.appendChild(Con2);
 
        Con1.appendChild(msg_req);
        Con2.appendChild(msg_res);
 
        document.getElementById('text').value = "";
 
    function scroll() {
        var scrollMsg = document.getElementById('msg')
        scrollMsg.scrollTop = scrollMsg.scrollHeight ;
    }
    scroll();
 
    }
 
 
    });
    </script>
</html>